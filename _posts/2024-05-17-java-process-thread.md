---
layout: post
title: Process 와 Tread
categories: [Java]
---
# Process
<span style='background-color:#D0E4FC'>**운영체제에 의해서 메모리에 올라가 실행 중인 프로그램**</span> 

![process.png](https://github.com/user-attachments/assets/cbcd56d5-167f-4a4f-9bf4-53f20082a4bb)

각각의 프로세스마다 독립적인 메모리 공간을 가지며, 다른 프로세스의 메모리 공간에 접근할 수 없습니다.  
운영체제에 의해 메모리, 입출력 장치 등의 자원을 할당받으며 상태를 가질 수 있습니다.

프로세스는 최소 하나의 스레드를 갖습니다.

> ### 멀티 프로세스
> **여러 개의 프로세스가 동시에 실행되는 것**
> 각 프로세스가 독립적인 메모리 공간을 갖기 때문에 하나의 프로세스가 죽어도 다른 프로셋스에 영향을 끼치지 않습니다.  
> 하지만 독립적인 공간을 갖기 때문에 메모리 사용량이 많고 프로세스 간의 통신이 복잡합니다.



<br>



# Thread
<span style='background-color:#D0E4FC'>**프로세스 내에서 동시에 실행되는 작업의 단위**</span>   

![thread.png](https://github.com/user-attachments/assets/f45c60fe-28ab-4258-84ca-97d03ab56724)

프로세스 내에서 스택 영역만 따로 할당 받고 그 외의 **코드, 데이터, 힙 영역은 공유**합니다.  

프로세스 내에 존재하며 프로세스가 할당받은 자원을 이용하여 실행됩니다.

> ### 멀티 스레드
> **하나의 프로세스 안에서 여러 개의 스레드가 실행되는 것**  
>적은 메모리 공간을 차지하고 문맥 전환이 빠르지만 하나의 스레드에 문제가 생기면 전체 스레드가 영향을 받는 동기화 문제가 발생할 수 있습니다.


> ### 멀티 스레드 환경에서의 주의사항
> 다수의 스레드가 공유 자원에 동시에 접근하게 되는 경우, 동시성 문제 또는 데드락에 빠지지 않도록 주의해야 합니다.


<br>



## 멀티 스레드의 동시성과 병렬성
동시성은 싱글 코어에서 멀티 작업을 위해 여러 개의 스레드를 실행하는 것을 말합니다.만  

동시에 여러 개의 스레드를 실행하는 것으로 보이지만 실제로는 시분할로 빠르게 번갈아 가면서 실행됩니다.  
스레드가 교대로 공유 자원에 접근하게 되는데 이로 인해섯 데이터의 일관성 문제가 발생할 수 있습니다.  

#### 1. 작업 교대의 불예측성  
스레드 스케줄링을 예측할 수 없고 언제든지 다른 스레드로 작업이 교체될 수 있습니다.  
이로 인해서 스레드가 공유자원에 접근하고 있는 도중에 다른 스레드가 그 자원에 접근하게 되면, 데이터의 일관성이 깨질 수 있습니다.
  

#### 2. 중간상태의 노출
한 스레드가 공유 자원을 업데이트하는 동안 다른 스레드가 그 자원을 읽거나 수정할 수 있습니다.   
만약첫 번째 스레드가 아직 작업을 완료하지 않은 상태에서 두 번째 스레드가 자원에 접근하면, 두 번째 스레드는 불완전한 중간 상태의 데이터에 접근하게 됩니.


#### 3. 경쟁 상태
경쟁상태는 여러 스레드가 동시에 공유자원에 접근하여 그 자원을 변경하려고 할 때 발생합니다.  

두 스레드가 동시에 변수를 증가시키려고 하면 각각의 스레드가 읽고 수정하는 과정에서 서로의 작업을 덮어쓰기할 수 있습니다.




    병렬성은 멀티 코어에서 멀티작업을 위해 한 개 이상의 스레드를 포함하는 코어들을 동시에 실행하는 것입니다.





