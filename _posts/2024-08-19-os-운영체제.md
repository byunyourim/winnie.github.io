---
layout: post
title: 운영체제의 동작
categories: OS
---


## Operating System

![os.png](https://github.com/user-attachments/assets/5046e1fc-6800-43ab-9a5a-eb55b6637427)
컴퓨터의 하드웨어와 소프트웨어 간에 중재 역할을 하는 시스템 소프트웨어  
  
사용자와 컴퓨터 시스템 간의 인터페이스를 제공하며, 하드웨어 자원을 관리하고, 프로그램을 효율적으로 실행하도록 한다.

크게 사용자 영역과 커널 영역으로 이루어진다.


<br>


# 사용자 영역
- 응용 프로그램이 실행되는 메모리 공간
- 사용자 프로그램이 실행되며, 운영체제의 서비스에 대한 요청을 시스템 콜을 통해 수행한다.
- 하드웨어 자원에 직접 접근할 수 없으며, 운영체제의 커널을 통해서만 접근한다.
- 하나의 프로그램의 오류가 다른 프로그램이나 운영체제에 영향을 미치지 않는다.
- 다양한 사용자 프로그램이 실행된다.  
  

### 1. 인터페이스
- 사용자와 운영체제 간 상호작용을 담당한다.
- GUI, CLI 형태로 제공된다.


<br>


# 커널 영역
- 커널이 실행되는 메모리 공간
- 하드웨어와 소프트웨어 간의 상호작용을 관리하고 시스템 자원을 직접 제어한다.
- 커널은 모든 하드웨어 자원에 대한 직접적인 접근 권한을 가지며, 이를 통해 시스템 자원을 관리한다.
- 사용자 프로그램의 요청을 처리하고, 시스템 보안 유지, 자원 관리 및 프로세스 관리 등의 기능을 수행한다.
  

### 커널의 역할
- **프로세스 관리** : 프로세스에 CPU를 배분하고 작업에 필요한 환경을 제공한다.
- **메모리 관리** : 프로세스에 작업 공간을 배치하고 실제 메모리보다 큰 가상 공간을 제공한다.
- **파일 시스템 관리** : 데이터를 저장하고 접근할 수 있는 인터페이스를 제공한다.
- **입출력 관리** : 필요한 입출력 서비스를 제공한다.
- **프로세스 간 통신 관리** : 공동 작업을 위한 각 프로세스 간 통신 환경을 제공한다.


<br>

# System Call

![system.png](https://github.com/user-attachments/assets/2540c268-1f30-4a15-baac-b5e580215dee)
사용자나 프로그램이 직접적으로 하드웨어 자원에 접근하는 것을 막고 커널을 보호하기 위한 인터페이스  

사용자 프로그램이 커널 서비스이 필요할 때 시스템 콜을 사용하여 커널 영역으로 전환한다.
CPU는 사용자 모드에서 커널 모드로 전환되며, 커널은 요청된 작업을 수행한 후 결과를 사용자 프로그램에 반환한다.


<br>


# Driver
프린터, 키보드 및 디스크 드라이브와 같은 하드웨어 장치와 운영체제 간의 동신을 가능하게 하는 소프트웨어  



# 운영체제 동작 순서

### 1. 부팅
- 컴퓨터에 전원이 공급되면, 하드웨어 장치가 초기화 됩니다.
- 하드웨어의 기본적인 기능을 점검하는 테스트(POS)가 실행되며, 이 과정에서 메모리, CPU, 키보드 등 정상적으로 동작하는지 확인한다.  
- 성공시 부트로더를 실행합니다.  
- 부트로더는 하드디스크나 SSD에 저장된 운영체제를 메모리로 불러온다. (이때, 커널이 메모리로 로드된다.)
  
> **bootloader**
> 운영체제를 메모리에 로드하는 프로그램  

### 2. 커널 초기화
- 커널은 하드웨어 장치를 제어하기 위한 장치 드라이버를 초기화한다.
- 커널은 프로세스 관리 시스템을 설정하여 CPU 자원을 효율적으로 배분할 수 있도록 준비한다.
- 커널은 메모리 관리 시스템을 초기화하여 프로그램들이 사용할 수 있는 메모리 영역을 설정하고 관리한다.
- 운영체제는 파일 시스템을 마운트하여, 하드디스크 등에서 데이터를 읽고 쓸 수 있게 한다.

### 3. 서비스 및 데몬 실행
- 네트워크, 프린터, 사용자 인증 등과 관련된 서비스가 실행된다.
- 백그라운드에서 지속적으로 실행되는 프로그램들로, 로그 관리, 네트워크 연결 관리 등을 처리한다.

### 4. 사용자 인터페이스 제공
- 사용자에게 로그인 화면을 제공한다. ID, PWD를 입력하여 인증 절차를 거친다.
- 사용자 인증 후, 데스크탑 환경(윈도우 시슷템, 아이콘, 메뉴 등)이 로드된다.

### 5. 프로그램 실행 및 관리
- 사용자가 프로그램을 실행하면, 운영체제는 해당 프로그램을 메모리에 로드하고 CPU를 할당하여 실행한다.
- 운영체제는 프로세스를 관리하며, 필요한 경우 멀티태스킹을 통해 여러 프로그램이 동시에 실행할 수 있도록 한다.
- 파일 저장, 프린터 출력, 네트워크 연결등 모든 입출력 작업을 운영체제가 관리한다.

### 6. 종료 및 셧다운
- 사용자가 프로그램을 종료하면, 운영체제는 해당 프로그램에 할당된 메모리와 리소스를 해제한다.
- 사용자가 시스템 종료를 선택하면, 운영체제는 실행중인 모든 프로그램과 서비스를 종료하고, 파일 시스템을 안전하게 언마운트 한 뒤 전원을 끈다.
