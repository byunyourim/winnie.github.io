---
layout: post
title: LIKE 와 full-scan
categories: DB
---

## LIKE
LIKE 는 SQL에서 문자열 패턴 매칭을 위해서 사용합니다.
주로 where절에서 특정 패턴과 일치하는 문자열을 검색하는데 사용할 수 있습니다.
하지만 데이터가 많아지는 경우 문제가 생길 수 있다.



## 어떤 문제가 생길까??
LIKE 연산자는 와일드 카드를 사용하여 패턴 매칭에 매우 유용합니다.
하지만 와일드 카드가 패턴의 시작 부분에 위치하면 Mysql의 인덱스를 효과적으로 사용할 수 없습니다.
예를 들어 LIKE '%123' 과 같은 패턴으로 사용하는 경우 인덱스를 사용할 수 없어 성능이 떨어질  있습니다.



## 왜 LIKE '%abc' 패턴은 인덱스를 사용할 수 없을까?
패턴이 % 시작하는 경우 인덱스를 사용할 수 없습니다. 인덱스는 데이터가 정렬된 순서대로 값을 찾을 수 있도록 합니다.
인덱스를 사용하여 검색할 때 왼쪽에서 부터 일치하는 값을 찾습니다.
예를 들어 'abc%'와 같은 패턴은 인덱스를 사용할 수 있으나 '%abc' 의 패턴의 경우 시작점이 명화하지 않기 때문에 인덱스를 사용할 수 없습니다.

이와 같은 패턴을 사용하는 경우 해당 컬럼의 모든 값을 스캔하기 때문에 full table scan이 발생합니다.
이것은 성능 저하로 이어질 수 있습니다.





