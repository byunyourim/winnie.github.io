<p>프로젝트 진행 중 계속해서 의존성 주입 문제가 생겼다.</p>

<p>도대체 뭘까..</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Service</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SmsSenderService</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">SmsCertification</span> <span class="n">smsCertification</span><span class="o">;</span>

    <span class="nd">@Value</span><span class="o">(</span><span class="s">"${coolsms.apikey}"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">apiKey</span><span class="o">;</span>

    <span class="nd">@Value</span><span class="o">(</span><span class="s">"${coolsms.apisecret}"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">apiSecret</span><span class="o">;</span>

    <span class="nd">@Value</span><span class="o">(</span><span class="s">"${coolsms.fromnumber}"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">fromNumber</span><span class="o">;</span>
    
    <span class="c1">// 코드 생략</span>
<span class="o">}</span>


</code></pre></div></div>

<p>@RequiredArgsConstructor 와 @AllArgsConstructor 를 알아보자</p>

<p>둘 다 Lombok 에서 제공하는 어노테이션으로 코드를 간결하게 작성할 수 있도록 도와주는 역할을 합니다.</p>

<h2 id="requiredargsconstructor">@RequiredArgsConstructor</h2>
<p>클래스의 final로 선언된 필드나 @NonNull 로 표시된 필드를 기반으로 생성자를 생성합니다.
생성자는 이러한 필드들을 매개변수로 받아 초기화합니다.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>  <span class="c1">// final로 선언</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>
    
    
    <span class="cm">/* 아래와 같은 생성자가 자동으로 생성됩니다.
    public User(String name, int age) {
      this.name = name;
      this.age = age;
    }
     */</span>
<span class="o">}</span>
</code></pre></div></div>
<ul>
  <li>즉, 초기화되지 않은 final 필드의 생성자를 생성합니다.</li>
</ul>

<h2 id="allargsconstructor">@AllArgsConstructor</h2>
<p>모든 필드를 기반으로 생성자를 생성합니다.
final로 선언되지 않은 필드도 포함하여 모든 필드를 매개변수로 받는 생성자를 생성합니다.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@AllArgsConstructor</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>
    
    <span class="cm">/* 아래와 같은 생성자가 자동으로 생성됩니다.
    public User(String name, int age) {
      this.name = name;
      this.age = age;
    }
     */</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="value-와-requiredargsconstructor">@Value 와 @RequiredArgsConstructor?</h2>
<p>@Value 이 뭘까?</p>

<p>final 로 선언한 필드에 @Value를 사용하면?
스프링이 빈을 생성할 때 해당 필드를 초기화할 수 없기 때문에 에러가 발생합니다.
@Value 을 사용할 때는 생성자 인젝션을 사용하지 않기 때문에 @RequiredArgsConstructor 를 사용하여
생성자를 자동을 생성할 수 없습니다.</p>

<h2 id="value-와-allargsconstructor">@Value 와 @AllArgsConstructor?</h2>
<p>스프링은 빈을 초기화 할 때 @Value 어노테이션을 사용하여 외부 프로퍼티 파일에서 값을 주입할 수 있습니다.
이것은 생성자 인젝션을 지원하지 않습니다.
따라서 @AllArgsConstructor을 사용할 때는 스프링이 @Value 어노테이션을 통해 초기화할 수 없는 필드에 대해서는 생성자를 자동으로 생성하지 않습니다. 
이로 인해 apiKey, apiSecret, fromNumber 필드는 @Value 어노테이션을 통해 초기화할 수 없어서 에러가 발생합니다.</p>
